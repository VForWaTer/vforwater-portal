{% load static %}
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}

{% block javascript %}
{% endblock %}
<head>
{#  our standard jquery for most of the portal  #}
{#    <script src="{% static 'vfw_home/js/jquery-3.2.1.min.js' %}"></script>#}
{#    <script src="{% static 'vfw_home/js/slider.js' %}" type="text/javascript"></script>#}
{% comment %}<script src="https://cdn.pydata.org/bokeh/release/bokeh-1.3.4.min.js"></script>
    <script src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-1.3.4.min.js"></script>
<script src="https://cdn.pydata.org/bokeh/release/bokeh-tables-1.3.4.min.js"></script>
    <script type="text/javascript"> Bokeh.set_log_level("info"); </script>{% endcomment %}
{#  used to add styles for filter menu  #}
    <link rel="stylesheet" type="text/css" href="{% static 'vfw_home/vcss/filter.css' %}">
</head>

<body>
   <div class="w3-container w3-light-turquoise">
        <b title={% trans "Please&#32choose&#32here&#32the&#32data&#32shown&#32on&#32the&#32map." %}>{%  trans "Filter menu" %}</b>
    </div>
   {% comment %}
    <div class="w3-hover-blue nav parent">
        <h5 style="display:block;cursor:pointer;position:relative;margin:2px 0 0 0;padding:.5em.5em.5em.7em;font-size:15px;"
            onclick="draw_polygon()" id="toggle_draw" title={% trans "Click&#32here&#32to&#32draw&#32the&#32area&#32you&#32want&#32to&#32filter." %}>{% trans "Draw SELECTION area" %}</h5>
    </div>{% endcomment %}
<div class="tab">
{% comment %}  <button class="filter-tablinks" onclick="toggleFilter(event, 'quickFilter')" id="defaultFilterTab"
  title="{% trans "Quick update of results on each click event"%}">{% trans "Quick"%}</button>{% endcomment %}
  <button class="filter-tablinks" onclick="toggleMapTableFilter(event, 'quickFilter', true)"
  title="{% trans "Set attributes and click on search to update results"%}">{% trans "Quick" %}</button>
  {% comment %}
  <button class="filter-tablinks" onclick="toggleFilter(event, 'advancedFilter'); advanced_filter_query()"
  title="{% trans "Set attributes and click on search to update results"%}">{% trans "Advanced" %}</button>{% endcomment %}
  <button class="filter-tablinks" onclick="drawOnMapMenu(event)"
  title="{% trans "Click here to select from drawing"%}">{% trans "Draw" %}</button>
</div>

<div id="quickFilter" class="filter-tabcontent">
  {% include 'vfw_home/quick_filter.html' %}
{#  {% block advanced_filter %}#}
{#  {% endblock %}#}
</div>
<div id="advancedFilter" class="filter-tabcontent">
{#  {% include 'vfw_home/advanced_filter.html' %}#}
{#  {% block advanced_filter %}#}
{#  {% endblock %}#}
</div>

</body>

<script>
{#TODO: Do I need this, or can I just use the csrftoken in vfw.js?#}
 csrf_token = '{{ csrf_token }}';
var unblockedIds = "{{ unblocked_ids }}";
// Get the element with id="defaultMapTab" and click on it
{#document.getElementById("defaultFilterTab").click();#}

let test = "{{ test|escapejs }}"
</script>

<script>
  $(document).ready(function() {
    $("form").submit(function () {
      let val = $("input[type=submit][clicked=true]").val();
      console.log('_____________________________')
      console.log('clickval', val)
    });
    {#advancedfilterform#}
  })
</script>
