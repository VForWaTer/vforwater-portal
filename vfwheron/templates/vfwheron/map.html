{% load static %}
<!--  ol.css is OpenLayers which is to render geo data in a webbrowser -->
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}

<head>
	<link rel="stylesheet" type="text/css" href="{% static 'vfwheron/vcss/ol.css' %}">
	<script src="{% static 'vfwheron/js/ol.js' %}" type="text/javascript"></script>
{#    TODO: Don't use web adresses for production#}
    <link rel="stylesheet" href="https://cdn.rawgit.com/Viglino/ol-ext/master/dist/ol-ext.min.css" />
    <script type="text/javascript" src="https://cdn.rawgit.com/Viglino/ol-ext/master/dist/ol-ext.min.js"></script>
	<script src="{% static 'vfwheron/js/map.js' %}" type="text/javascript"></script>
{#    TODO: menu_objects should not be loaded in map.html. Why isn't it working in select_data.html? Time of loading?#}
	<script src="{% static 'vfwheron/js/menu_objects.js' %}" type="text/javascript"></script>
</head>

<script>
    var SERVER = "{{ VFW_SERVER }}";
    var MAP_SERVER = "{{ MAP_SERVER }}";
    var DEMO_VAR = "{{ DEMO_VAR }}"
</script>

{#TODO: Don't like "show_data()" in map.html, but 2 onload in app don't work. Any better solution?#}
<body onload="create_map(); show_data()">
	<!-- <body class="respo-light-grey" onload="create_map()">  -->
	<div id="map" class="map"></div>

	<style>div.map {height: 80%; width: 100%;}</style>

    <!--TODO: Was ist besser um Werte an js zu 체bergeben? <param> oder <script>? param muss direkt abgerufen werden, script ist f체r alle zug채nglich)-->
	<param id="dataExt" value ="{{ dataExt }}"></param> <!-- param to bridge data from view to js  -->
	<param id="data_layer" value ="{{ data_layer }}"></param> <!-- param to bridge data from view to js  -->

	<div class="respo-center" id="filterbox" class="" style="display:none">
{#        <dl>#}
		  <a href="javascript:void(0)" onclick=toggle_draw(this); id="draw_polygon" class="draw-hover" title="Draw"><i class="fa fa-square-o fa-fw"></i></a>
		  <a href="javascript:void(0)" onclick=toggle_draw(this); id="modify_polygon" class="draw-hover" title="Edit"><i class="fa fa-edit fa-fw"></i></a>
{#		  <a href="javascript:void(0)" id="select_polygon" class="draw-hover" title="Select Drawing"><i class="fa fa-hand-pointer-o fa-fw"></i></a>#}
		  <a href="javascript:void(0)" onclick=toggle_draw(this); id="remove_polygon" class="draw-hover" title="Remove"><i class="fa fa-trash fa-fw"></i></a>
		  <a href="javascript:void(0)" onclick=toggle_draw(this); id="draw_close" class="respo-hover-white" title="Exit Drawing"><i class="fa fa-remove fa-fw"></i></a>
		  {% comment %}
		  <a href="javascript:void(0)" onclick="select_catchment_toggle()" class="respo-hover-white respo-hide-small" title="Select Catchment"><i class="fa fa-check-square-o fa-fw"></i></a>
		  <a href="javascript:void(0)" onclick="filterbox_close()" class="respo-hover-red respo-hide-small respo-right" title="Close Toolbar"><i class="fa fa-remove fa-fw"></i></a>
		  <select class="respo-select" id="select_catchment" autocomplete="off" onchange="select_catchment()">
			<option value="0" selected="selected">Select Catchment Area</option>
			<option value="Rainfall">Germany</option>
			<option value="River">Netherlands</option>
			<option value="Soil">Luxembourg</option>
		  </select>
		  {% endcomment %}
{#            </dl>#}
	</div>
		{# <input type="button" onclick="toggleLayer(vectorLayer)" value="Toggle Visibility of Basiseinzugsgebiete">&emsp; #}

    	<div id="popup" class="ol-popup">
            <div id="popup-content">
            </div>
            <div class="center">
                <div id="popup-paginat" class="respo-pagination">
                </div>
            </div>
{#            <img id="preview_img" src="" alt="Keine Vorschau verf체gbar"/>#}
            <a href="#" id="popup-closer" class="ol-popup-closer"></a>
    </div>
</body>

<!--
<script>
   sample_locations = '{{ sample_locations }}';
</script>
-->
