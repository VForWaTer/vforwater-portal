{#<!DOCTYPE html>#}
{#<html lang="en">#}
<meta charset="UTF-8">

{#{% extends "vfwheron/base.html" %}#}
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}

{% load static %}

<head>
  <meta charset="UTF-8">
  <script src="{% static 'heron_visual/js/bokeh-2.2.1.min.js' %}" type="text/javascript"></script>
  <script src="{% static 'heron_visual/js/bokeh-tables-2.2.1.min.js' %}" type="text/javascript"></script>
  <script src="{% static 'heron_visual/js/bokeh-widgets-2.2.1.min.js' %}" type="text/javascript"></script>
{#    <script src="https://cdn.bokeh.org/bokeh/release/bokeh-2.2.1.min.js"></script>#}
{#    <script src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.2.1.min.js"></script>#}
{#    <script src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.2.1.min.js"></script>#}
</head>
<body>
<div id="infoModal" class="w3-modal">

  <!-- Modal content -->
  <div class="w3-modal-content modal-body">
    <div class="modal-header" id="modal-header">
      {#            <span class="close">&times;</span>#}
      <h3 id="mod_head"></h3>
    </div>
    <table>
      <tr>
        <td><p id="mod_dat_inf" class="modal-datainfo"></p></td>
        <td><p id="mod_prev" class="modal-preview"></p></td>
        {#                <td><p id="mod_prev" class="modal-preview">{{ div | safe }}</p></td>#}
      </tr>
    </table>
    <div class="modal-footer" id="modal-footer">
      <span-b class="modal-back">{% trans "Back" %}</span-b>
      {#            <span-r class="modal-run" onclick="runProcess()">Run</span-r>#}
      <h3></h3>
    </div>
  </div>

</div>
</body>
<script>
  var bokehPreviewScript;
  // Get the modal
  let modal = document.getElementById("infoModal");
  // Get the <span> element that closes the modal
  {#let span = document.getElementsByClassName("close")[0];#}
  {#let span_c = document.getElementsByClassName("modal-cancel")[0];#}
  let span_b = document.getElementsByClassName("modal-back")[0];
  // When the user clicks on <span> (x), close the modal
  {% comment %}  span.onclick = function () {
        closeModal()
    };{% endcomment %}
  span_b.onclick = () => closeInfoModal();
  {#span_c.onclick = function () {closeModal()};#}

  // When the user clicks anywhere outside of the modal, close it
  window.onclick = (event) => {if (event.target == modal) closeInfoModal()};

  function closeInfoModal() {
    modal.style.display = "none";
    if (bokehPreviewScript) {
      bokehPreviewScript.parentNode.removeChild(bokehPreviewScript);
    }
  }

</script>

